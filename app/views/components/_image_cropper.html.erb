<%
  id ||= "image-meta-#{SecureRandom.hex(4)}"
  alt_text ||= nil
  exact_dimensions ||= false
%>

<div class="app-c-image-cropper" id="<%= id %>" <%= "data-module=image-cropper" unless exact_dimensions %>>

  <%= tag.p class: "app-c-image-cropper__no-js-description" do %>
    <%= no_js_description %>
  <% end %>

  <%= tag.img class: "app-c-image-cropper__no-js-image",
    src: no_js_src,
    alt: alt_text
  %>

  <% if exact_dimensions %>
    <%= tag.p class: "app-c-image-cropper__description" do %>
      <%= exact_dimensions_description %>
    <% end %>
  <% else %>
    <%= tag.p class: "app-c-image-cropper__description" do %>
      <%= description %>
    <% end %>
  <% end %>

  <div class="app-c-image-cropper__container">
    <%= tag.img class: "app-c-image-cropper__image",
      src: src,
      alt: alt_text
    %>
  </div>

  <%= hidden_field_tag 'crop_x', crop_x, class: "js-image-cropper-x" %>
  <%= hidden_field_tag 'crop_y', crop_y, class: "js-image-cropper-y" %>
  <%= hidden_field_tag 'crop_width', crop_width, class: "js-image-cropper-width" %>
  <%= hidden_field_tag 'crop_height', crop_height, class: "js-image-cropper-height" %>
</div>
