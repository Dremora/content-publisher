<% content_for :back_link, document_images_path(@document) %>
<% content_for :title, t("document_images.crop.title", title: @document.title_or_fallback) %>

<%= form_tag(crop_document_image_path(@document, @image), method: :patch) do %>
  <%= hidden_field_tag :wizard, params[:wizard] %>

  <%= render "/components/image_cropper", {
    id: "crop-image",
    description: t("document_images.crop.description"),
    no_js_description: t("document_images.crop.no_js_description"),
    src: url_for(@image.blob),
    no_js_src: url_for(@image.crop_variant('960x640')),
    alt_text: @image.alt_text,
    crop_x: @image.crop_x,
    crop_y: @image.crop_y,
    crop_width: @image.crop_width,
    crop_height: @image.crop_height
  } %>

  <%= render "govuk_publishing_components/components/button", {
    text: "Crop image",
    margin_bottom: true
  } %>
<% end %>
